{"componentChunkName":"component---src-templates-post-js","path":"/posts/generating-ssh-keys","result":{"data":{"contentfulPost":{"title":"Generating a new SSH key and adding it to the ssh-agent","date":"April 28th, 2018","content":{"childMarkdownRemark":{"html":"<p>Most of you seasoned developers are use to SSH keys, this was something new to me. So this is how I went about setting up my dev enviroment to use them.</p>\n<h3>First we need to check for existing SSH keys</h3>\n<ol>\n<li>Open Terminal</li>\n<li>Enter <code>ls -al ~./ssh</code> to see if existing SSH keys are present:</li>\n</ol>\n<pre><code class=\"language-bash\">$ ls -al ~/.ssh\n# Lists the files in your .ssh directory, if they exist\n</code></pre>\n<ol start=\"3\">\n<li>Check the directory listing to see if you already have a public SSH key.\nBy default, the filenames of the public keys are one of the following:</li>\n</ol>\n<ul>\n<li>id_dsa.pub</li>\n<li>id_ecdsa.pub</li>\n<li>id_ed25519.pub</li>\n<li>id_rsa.pub</li>\n</ul>\n<p>If you don't have an existing public and private key pair. Then we can Generate a new SSH key.</p>\n<h3>Generating a new SSH key</h3>\n<ol>\n<li>\n<p>Open Terminal</p>\n</li>\n<li>\n<p>Paste the text below, substituting in your GitHub email address.\n<code>$ ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"</code></p>\n</li>\n</ol>\n<p>This creates a new ssh key, using the provided email as a label.\n<code>> This creates a new ssh key, using the provided email as a label.</code></p>\n<ol start=\"3\">\n<li>\n<p>When you're prompted to \"Enter a file in which to save the key,\" press Enter. This accepts the default file location.\n<code>Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]</code></p>\n</li>\n<li>\n<p>At the prompt, type a secure passphrase. For more information, see <a href=\"https://help.github.com/en/articles/working-with-ssh-key-passphrases\">\"Working with SSH key passphrases\"</a>.</p>\n</li>\n</ol>\n<pre><code class=\"language-bash\">> Enter passphrase (empty for no passphrase): [Type a passphrase]\n> Enter same passphrase again: [Type passphrase again]\n</code></pre>\n<h3>Now adding the SSH ket to the ssh-agent</h3>\n<p>When adding your SSH key to the agent, use the default macOS <code>ssh-add</code> command!!</p>\n<ol>\n<li>Start the ssh-agent in the background.</li>\n</ol>\n<pre><code class=\"language-bash\">$ eval \"$(ssh-agent -s)\"\n> Agent pid 59566\n</code></pre>\n<ol start=\"2\">\n<li>If you're using macOS Sierra 10.12.2 or later, you will need to modify your <code>~/.ssh/config</code> file to automatically load keys into the ssh-agent and store passphrases in your keychain.</li>\n</ol>\n<pre><code class=\"language-bash\">Host *\n  AddKeysToAgent yes\n  UseKeychain yes\n  IdentityFile ~/.ssh/id_rsa\n</code></pre>\n<ol start=\"3\">\n<li>Add your SSH private key to the ssh-agent and store your passphrase in the keychain. If you created your key with a different name, or if you are adding an existing key that has a different name, replace id_rsa in the command with the name of your private key file.</li>\n</ol>\n<p><code>$ ssh-add -K ~/.ssh/id_rsa</code></p>\n<p><strong>Note:</strong> The <code>-K</code> option is Apple's standard version of ssh-add, which stores the passphrase in your keychain for you when you add an ssh key to the ssh-agent.</p>\n<p>Now its time to <a href=\"https://help.github.com/en/articles/adding-a-new-ssh-key-to-your-github-account\">Adding a new SSH key to your GitHub account</a></p>\n<p>I have bascially ripped off the tutorial from <a href=\"https://help.github.com/\">Help GitHub</a> but this is mainly for my reference so I can have access to quickly.</p>\n<p>If you're using <a href=\"https://bitbucket.org/\">BitBucket</a> you can go <a href=\"https://confluence.atlassian.com/bitbucket/set-up-an-ssh-key-728138079.html\">here</a></p>","timeToRead":2}}}},"pageContext":{"slug":"generating-ssh-keys"}},"staticQueryHashes":["63159454"]}