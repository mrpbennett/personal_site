<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.2d5629a31ea41a829ee6.css" data-identity="gatsby-global-css">/*! tailwindcss v2.1.4 | MIT License | https://tailwindcss.com */

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}hr{color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15}button{-webkit-appearance:button}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0}ol,ul{list-style:none;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{color:inherit;line-height:inherit;padding:0}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.prose{color:#374151;max-width:65ch}.prose a{color:#111827;font-weight:500;text-decoration:underline}.prose strong{color:#111827;font-weight:600}.prose ol>li{padding-left:1.75em;position:relative}.prose ol>li:before{color:#6b7280;content:counter(list-item,var(--list-counter-style,decimal)) ".";font-weight:400;left:0;position:absolute}.prose ul>li{padding-left:1.75em;position:relative}.prose ul>li:before{background-color:#d1d5db;border-radius:50%;content:"";height:.375em;left:.25em;position:absolute;top:.6875em;width:.375em}.prose hr{border-color:#e5e7eb;border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose blockquote{border-left-color:#e5e7eb;border-left-width:.25rem;color:#111827;font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose blockquote p:first-of-type:before{content:open-quote}.prose blockquote p:last-of-type:after{content:close-quote}.prose h1{color:#111827;font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose h2{color:#111827;font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose h3{font-size:1.25em;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose h3,.prose h4{color:#111827;font-weight:600}.prose h4{line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose figure figcaption{color:#6b7280;font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose code{color:#111827;font-size:.875em;font-weight:600}.prose code:after,.prose code:before{content:"`"}.prose a code{color:#111827}.prose pre{background-color:#1f2937;border-radius:.375rem;color:#e5e7eb;font-size:.875em;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose pre code{background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:400;line-height:inherit;padding:0}.prose pre code:after,.prose pre code:before{content:none}.prose table{font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose thead{border-bottom-color:#d1d5db;border-bottom-width:1px;color:#111827;font-weight:600}.prose thead th{padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose tbody tr{border-bottom-color:#e5e7eb;border-bottom-width:1px}.prose tbody tr:last-child{border-bottom-width:0}.prose tbody td{padding:.5714286em;vertical-align:top}.prose{font-size:1rem;line-height:1.75}.prose p{margin-bottom:1.25em;margin-top:1.25em}.prose figure,.prose img,.prose video{margin-bottom:2em;margin-top:2em}.prose figure>*{margin-bottom:0;margin-top:0}.prose h2 code{font-size:.875em}.prose h3 code{font-size:.9em}.prose ol,.prose ul{margin-bottom:1.25em;margin-top:1.25em}.prose li{margin-bottom:.5em;margin-top:.5em}.prose>ul>li p{margin-bottom:.75em;margin-top:.75em}.prose>ul>li>:first-child{margin-top:1.25em}.prose>ul>li>:last-child{margin-bottom:1.25em}.prose>ol>li>:first-child{margin-top:1.25em}.prose>ol>li>:last-child{margin-bottom:1.25em}.prose ol ol,.prose ol ul,.prose ul ol,.prose ul ul{margin-bottom:.75em;margin-top:.75em}.prose h2+*,.prose h3+*,.prose h4+*,.prose hr+*{margin-top:0}.prose thead th:first-child{padding-left:0}.prose thead th:last-child{padding-right:0}.prose tbody td:first-child{padding-left:0}.prose tbody td:last-child{padding-right:0}.prose>:first-child{margin-top:0}.prose>:last-child{margin-bottom:0}.bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgba(229,231,235,var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity:1;background-color:rgba(96,165,250,var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgba(59,130,246,var(--tw-bg-opacity))}.hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.hover\:bg-blue-900:hover{--tw-bg-opacity:1;background-color:rgba(30,58,138,var(--tw-bg-opacity))}.bg-opacity-70{--tw-bg-opacity:0.7}.rounded-md{border-radius:.375rem}.rounded-lg{border-radius:.5rem}.rounded-b-lg{border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem}.flex{display:flex}.table{display:table}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-grow{flex-grow:1}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-bold{font-weight:700}.h-screen{height:100vh}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-5{margin-left:1.25rem;margin-right:1.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.ml-2{margin-left:.5rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mr-10{margin-right:2.5rem}.min-h-screen{min-height:100vh}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-bottom:1rem;padding-top:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-8{padding-left:2rem;padding-right:2rem}.pt-10{padding-top:2.5rem}*{--tw-shadow:0 0 #0000}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}*{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.text-center{text-align:center}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.capitalize{text-transform:capitalize}.underline{text-decoration:underline}.hover\:no-underline:hover,.no-underline{text-decoration:none}.tracking-wide{letter-spacing:.025em}.tracking-wider{letter-spacing:.05em}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}@keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:sans-serif}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1rem!important;width:100%;word-break:break-all}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font-size:16px;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{word-wrap:break-word;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt";color:#000;font-kerning:normal;font-weight:400}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{text-rendering:optimizeLegibility;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{text-rendering:optimizeLegibility;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{text-rendering:optimizeLegibility;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{word-wrap:normal;background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.e404{background:url(/static/crash-9dd221c02c0a337088af51d82a6c5173.jpeg) no-repeat 50% fixed;background-size:cover;z-index:1}.no-underline{text-decoration:none!important}.hvr-rotate{box-shadow:0 0 1px transparent;display:inline-block;transform:perspective(1px) translateZ(0);transition-duration:.3s;transition-property:transform;vertical-align:middle}.hvr-rotate:active,.hvr-rotate:focus,.hvr-rotate:hover{transform:rotate(4deg)}</style><meta name="generator" content="Gatsby 3.7.1"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Adding pagination in Gatsby | Pythonista üêç</title><meta data-react-helmet="true" name="description" content="Pythonista üêç based in London, building things with code &amp; racing bikes."/><meta data-react-helmet="true" property="og:title" content="Adding pagination in Gatsby"/><meta data-react-helmet="true" property="og:description" content="Pythonista üêç based in London, building things with code &amp; racing bikes."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@mrpbennett"/><meta data-react-helmet="true" name="twitter:title" content="Adding pagination in Gatsby"/><meta data-react-helmet="true" name="twitter:description" content="Pythonista üêç based in London, building things with code &amp; racing bikes."/><link as="script" rel="preload" href="/webpack-runtime-6e9ae2fd2bd3b35ff87f.js"/><link as="script" rel="preload" href="/framework-cb53c9c362859ae9bfa5.js"/><link as="script" rel="preload" href="/app-b6fa91141b848d20869e.js"/><link as="script" rel="preload" href="/commons-9352c96e5d5818ccbc4c.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-432a3761a3494c615d48.js"/><link as="fetch" rel="preload" href="/page-data/posts/pagination-in-gatsby/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="container mx-auto flex flex-col min-h-screen prose pt-10"><header class=""><h1 class="capitalize">paul bennett</h1><nav class="flex"><a class="mr-10 capitalize" href="/">home</a><a class="mr-10 capitalize" href="/about">about</a><a class="capitalize" href="/posts">blog</a></nav></header><div class="flex-grow"><main><div class="mt-4"><h1 class="">Adding pagination in Gatsby</h1><p class="">October 12th, 2019<!-- --> ¬∑<!-- --> <!-- -->6<!-- --> min read</p></div><div class=""><p>A page that displays your posts can get incredibly long as you continue to add posts. Pagination can offer a solution to having a massive list of posts, where it takes an age to scroll to the end of them.</p>
<p>Pagination allows you to break up those posts into multiple, smaller pages.</p>
<p>This tutorial was inspired by the post by Nicky Meuleman, I, however, had issues with it and couldn't get it to work. So this is my version of that tutorial.</p>
<p>But first, why did I choose pagination over Infinite Scroll? I ended up picking pagination solely for the challenge of creating it. After reading the article <a href="https://uxplanet.org/ux-infinite-scrolling-vs-pagination-1030d29376f1">UX: Infinite Scrolling vs. Pagination</a> I decided I made the right choice. Infinite scroll IMO is better suited to apps like Instagram.</p>
<h3>Create a page for your posts.</h3>
<p>Create a new file in <code>src/templates/</code> this will serve as a blueprint for every page that lists the posts. Make sure to import GraphQL and Link from Gatsby, and I have also imported my Layout and Head components too.</p>
<pre><code class="language-javascript">// src/templates/post-list.js
import React, { Component } from 'react'
import { Link, graphql } from 'gatsby'

import Layout from '../components/layout'
import Head from '../components/head'

const PostList = () => {
    return (
        &#x3C;Layout>
            &#x3C;Head title="Posts">
            // - Posts Here
        &#x3C;/Layout>
    )
}

export default PostList
</code></pre>
<p>Then you will need to get the post data inside the template using GraphQL below is the query I used. To learn more about GraphQL, you can watch the following videos.</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=8t0vNu2fCCM&#x26;t=5303s"> Gatsby Data with GraphQL - Andrew Mead</a></li>
<li><a href="https://youtu.be/lAJWHHUz8_8">GraphQL Basics - Fun Fun Function</a></li>
</ul>
<pre><code class="language-javascript">// src/templates/post-list.js
export const query = graphql`
    query($skip: Int!, $limit: Int!) {
        allMarkdownRemark(
            sort: { fields: [frontmatter___date], order: DESC }
            limit: $limit
            skip: $skip
        ) {
            edges {
                node {
                    fields {
                        slug
                    }
                    frontmatter {
                        title
                        date(formatString: "MMM DD, YYYY")
                    }
                    excerpt(pruneLength: 280)
                }
            }
        }
    }
`
</code></pre>
<p>It's time to populate the data into the template for this I am just going to copy my code. If you want to learn more about how it's filled using GraphQL, carry on watching the video by Andrew Mead.</p>
<p>I also added <code>props</code> as a parameter to <code>PostList,</code> enabling me to get that data into my component.</p>
<pre><code class="language-javascript">// src/templates/post-list.js
const PostList = props => {
    const posts = props.data.allMarkdownRemark.edges

    return (...
</code></pre>
<p>Read more about React components and props <a href="https://reactjs.org/docs/components-and-props.html">here</a></p>
<pre><code class="language-javascript">// src/templates/post-list.js
const PostList = props => {
    const posts = props.data.allMarkdownRemark.edges

    return (
        &#x3C;Layout>
            &#x3C;Head title="Posts" />
            &#x3C;div className={layoutStyles.pageHeader}>
                &#x3C;h2>Posts&#x3C;/h2>
                &#x3C;span>Just my ramberlings&#x3C;/span>
            &#x3C;/div>
            {posts.map(({ node }) => {
                const title = node.frontmatter.title || node.fields.slug
                return (
                    &#x3C;div className={postPageStyles.postItem}>
                        &#x3C;div className={postPageStyles.postItemTitle}>
                            &#x3C;h2>{title}&#x3C;/h2>
                            &#x3C;span>Posted on {node.frontmatter.date}&#x3C;/span>
                        &#x3C;/div>
                        &#x3C;div>
                            &#x3C;p>{node.excerpt}&#x3C;/p>
                            &#x3C;Link to={`${node.fields.slug}`}>
                                &#x3C;span>Continue Reading&#x3C;/span>
                                &#x3C;span role="img"> üëâüèº&#x3C;/span>
                            &#x3C;/Link>
                        &#x3C;/div>
                    &#x3C;/div>
                )
            })}
        &#x3C;/Layout>
    )
}

export default PostList
</code></pre>
<h3>Get data to those listing pages</h3>
<p>At this point, I am guessing you already have a collection of posts, and they're displayed as a giant list. I won't go over creating a slug for your <code>.md</code> files, if you don't, however, head over <a href="https://www.youtube.com/watch?v=8t0vNu2fCCM&#x26;t=8340s">here</a> to learn more.</p>
<p>The code below will create an amount of pages that is based on the total number of posts. . Each page will list <code>postsPerPage</code> (3) posts, until there are less than <code>postsPerPage</code> (3) posts left. The path for the first page is <code>/posts</code>, the following pages will have a path of the form: <code>/posts/2</code>, <code>/posts/3</code>, etc.</p>
<p>This will also create a page for each post, each post will use the <code>post.js</code> template which you can find on my <a href="https://github.com/mrpbennett/gatsby-me/blob/master/src/templates/post.js">repo</a>.</p>
<pre><code class="language-javascript">// gatsby-node.js
module.exports.createPages = async ({ graphql, actions, reporter }) => {
    const { createPage } = actions
    const result = await graphql(`
        query {
            allMarkdownRemark {
                edges {
                    node {
                        fields {
                            slug
                        }
                    }
                }
            }
        }
    `)

    // Handle errors
    if (result.errors) {
        reporter.panicOnBuild('Error while running GraphQL query.')
        return
    }

    // Create the pages for each markdown file
    const postTemplate = path.resolve('src/templates/post.js')
    result.data.allMarkdownRemark.edges.forEach(({ node }) => {
        createPage({
            component: postTemplate,
            path: `${node.fields.slug}`,
            context: {
                slug: node.fields.slug,
            },
        })
    })

    // PAGINATION FOR BLOG POSTS
    const postsResult = await graphql(
        `
            {
                allMarkdownRemark(
                    sort: { fields: [frontmatter___date], order: DESC }
                    limit: 1000
                ) {
                    edges {
                        node {
                            fields {
                                slug
                            }
                        }
                    }
                }
            }
        `
    )

    if (postsResult.errors) {
        reporter.panicOnBuild('Error while running GraphQL query.')
        return
    }

    // Create blog-list pages
    const posts = postsResult.data.allMarkdownRemark.edges
    const postsPerPage = 3
    const numPages = Math.ceil(posts.length / postsPerPage)
    Array.from({ length: numPages }).forEach((_, i) => {
        createPage({
            path: i === 0 ? '/posts' : `/posts/${i + 1}`,
            component: path.resolve('./src/templates/post-list.js'),
            context: {
                limit: postsPerPage,
                skip: i * postsPerPage,
                numPages,
                currentPage: i + 1,
            },
        })
    })
}
</code></pre>
<h3>Adding previous/next navigation</h3>
<p>This is where I ran to a dead end when using Nicky's tutorial. I was stuck <a href="https://nickymeuleman.netlify.com/blog/gatsby-pagination/#navigate-to-previousnext-page">here</a>.</p>
<p>As this was my first React project, I was unaware you were unable to use <a href="https://stackoverflow.com/questions/58318868/unable-to-use-const-within-a-class-in-react/58319086?noredirect=1#comment103005995_58319086">const within a class in React</a></p>
<p>I kept on getting an undefined error on <code>this.props.pageContext</code> after much headache, lots of dog walks, and two days later. I found the solution!! üéâ</p>
<p>I found it watching <a href="https://youtu.be/qcS1VCGWukU?t=238">this video</a>. It was a simple case of using <code>const { currentPage, numPages } = props.pageContext</code>.</p>
<p>Now my component looked like the below. With everything working now, you can use <code>currentPage</code> and <code>numPages</code> to determine the routes to the previous/next page. They also make it possible to only show those links if they exist.</p>
<pre><code class="language-javascript">// src/templates/post-list.js
const PostList = props => {
    const { currentPage, numPages } = props.pageContext
    const isFirst = currentPage === 1
    const isLast = currentPage === numPages
    const prevPage =
        currentPage - 1 === 1
            ? 'posts/'
            : 'posts/' + (currentPage - 1).toString()
    const nextPage = 'posts/' + (currentPage + 1).toString()

    const posts = props.data.allMarkdownRemark.edges

    return (
        &#x3C;Layout>
            {!isFirst &#x26;&#x26; (
                &#x3C;Link to={prevPage} rel="prev">
                    ‚Üê Previous Page
                &#x3C;/Link>
            )}
            {!isLast &#x26;&#x26; (
                &#x3C;Link to={nextPage} rel="next">
                    Next Page ‚Üí
                &#x3C;/Link>
            )}
        &#x3C;/Layout>
    )
}
</code></pre>
<h3>Adding numbering</h3>
<p>Iterate over <code>numPages</code> and output a number with the relevant link.</p>
<pre><code class="language-javascript">{
    Array.from({ length: numPages }, (_, i) => (
        &#x3C;Link key={`pagination-number${i + 1}`} to={`/${i === 0 ? '' : i + 1}`}>
            {i + 1}
        &#x3C;/Link>
    ))
}
</code></pre>
<p>I ended up placing all the pagination into it's own div enabling me to style it. This ended up looking like the below:</p>
<pre><code class="language-html">&#x3C;div className={paginationStyles.paginationBlock}>
    &#x3C;div className={paginationStyles.previous}>
        {!isFirst &#x26;&#x26; (
            &#x3C;Link to={prevPage} rel="prev">
                &#x3C;span role="img" className={paginationStyles.emojis}>
                    üëàüèº
                &#x3C;/span>
            &#x3C;/Link>
        )}
    &#x3C;/div>

    &#x3C;div className={paginationStyles.numbers}>
        {Array.from({ length: numPages }, (_, i) => (
            &#x3C;Link
                key={`pagination-number${i + 1}`}
                to={`posts/${i === 0 ? '' : i + 1}`}
            >
                {i + 1}
            &#x3C;/Link>
        ))}
    &#x3C;/div>

    &#x3C;div className={paginationStyles.next}>
        {!isLast &#x26;&#x26; (
            &#x3C;Link to={nextPage} rel="next">
                &#x3C;span role="img" className={paginationStyles.emojis}>
                    üëâüèº
                &#x3C;/span>
            &#x3C;/Link>
        )}
    &#x3C;/div>
&#x3C;/div>
</code></pre>
<p>If this doesnt make any sense, I mean I am also new to Gatsby and React you can check out the relevant files to get the pagination working below:</p>
<ul>
<li><a href="https://github.com/mrpbennett/gatsby-me/blob/master/src/templates/post-list.js">post-list.js</a></li>
<li><a href="https://github.com/mrpbennett/gatsby-me/blob/master/gatsby-node.js">gatsby-node.js</a></li>
</ul>
<p>The whole repo is also <a href="https://github.com/mrpbennett/gatsby-me">here</a>.</p>
<h4>Update:</h4>
<p>I actually got in touch with Nicky over Twitter to advise him of the bug in his tutorial. This has now been resolved. However, i'll leave this blog post as it is, as a leaning curve.</p></div></main></div><footer><div class="container mx-auto py-3"><p class="text-center text-xs tracking-wider">2021<!-- --> @mrpbennett</p></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/pagination-in-gatsby";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-16cd3ae3bc737259f086.js"],"app":["/app-b6fa91141b848d20869e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-870f515fae015ddd510a.js"],"component---src-pages-about-js":["/component---src-pages-about-js-598469fa70a09e7c5234.js"],"component---src-pages-index-js":["/component---src-pages-index-js-579ce93d4f8883cda717.js"],"component---src-templates-post-js":["/component---src-templates-post-js-432a3761a3494c615d48.js"],"component---src-templates-post-list-js":["/component---src-templates-post-list-js-fdb62fa0f7fe34e77538.js"]};/*]]>*/</script><script src="/polyfill-16cd3ae3bc737259f086.js" nomodule=""></script><script src="/component---src-templates-post-js-432a3761a3494c615d48.js" async=""></script><script src="/commons-9352c96e5d5818ccbc4c.js" async=""></script><script src="/app-b6fa91141b848d20869e.js" async=""></script><script src="/framework-cb53c9c362859ae9bfa5.js" async=""></script><script src="/webpack-runtime-6e9ae2fd2bd3b35ff87f.js" async=""></script></body></html>